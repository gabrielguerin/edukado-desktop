<div class="card card-image card-image-avatar mb-3">
  <div class="h-100 d-flex flex-column">
    <div class="card-header pb-0">
      <% if @user.avatar.attached? %>
        <%= image_tag(@user.avatar, class: "rounded-circle shadow image-offset", width: '128', height: '128', alt: 'profile picture') %>
      <% else %>
        <%= image_tag('fallback/default', class: "rounded-circle shadow image-offset", width: '128', height: '128', alt: 'profile picture') %>
      <% end %>
      <h4 class="card-title text-primary text-center mt-4 my-2"><%= @user.first_name %> <%= @user.last_name %></h4>
    </div>
    <div class="card-body">
      <h6 class="text-center text-muted">Description</h6>
      <p class="text-center"><%= @user.description %></p>
      <h6 class="text-center text-muted">Publications</h6>
      <p class="text-center"><%= @user.posts.count %></p>
      <h6 class="text-center text-muted">Votes pour</h6>
      <p class="text-center"><%= @user.posts.sum(&:likes_sum) %></p>
      <h6 class="text-center text-muted">Votes contre</h6>
      <p class="text-center"><%= @user.posts.sum(&:dislikes_sum) %></p>
    </div>
  </div>
</div>
